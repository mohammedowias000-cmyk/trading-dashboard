<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Owais Trading Dashboard</title>

  <style>
    body {
      margin: 0;
      background: #0b0f17;
      color: white;
      font-family: Segoe UI, Arial;
    }

    .container {
      display: flex;
      height: 100vh;
    }

    .sidebar {
      width: 240px;
      background: #0f1c2f;
      padding: 20px;
    }

    .sidebar h2 {
      margin-bottom: 40px;
    }

    .sidebar p {
      margin: 20px 0;
      color: #ccc;
    }

    .main {
      flex: 1;
      padding: 40px;
    }

    h1 {
      margin-bottom: 40px;
    }

    .cards {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 25px;
    }

    .card {
      background: #101b2d;
      border-radius: 15px;
      padding: 25px;
      box-shadow: 0 0 20px rgba(0,0,0,0.5);
    }

    .card h3 {
      color: #aaa;
      margin-bottom: 15px;
      font-size: 14px;
      text-transform: uppercase;
    }

    .card p {
      font-size: 28px;
      font-weight: bold;
      color: #00ff88;
    }
  </style>
</head>

<body>

<div class="container">
  <div class="sidebar">
    <h2>Owais</h2>
    <p>ðŸ“Š Dashboard</p>
    <p>ðŸ“ˆ Performance</p>
    <p>ðŸ’° Profit</p>
    <p>âš™ Settings</p>
  </div>

  <div class="main">
    <h1>Trading Dashboard</h1>

    <div class="cards">
      <div class="card">
        <h3>Starting Capital</h3>
        <p id="startingCapital">Loading...</p>
      </div>

      <div class="card">
        <h3>Total Trades</h3>
        <p id="totalTrades">Loading...</p>
      </div>

      <div class="card">
        <h3>Winning Trades</h3>
        <p id="winningTrades">Loading...</p>
      </div>

      <div class="card">
        <h3>Losing Trades</h3>
        <p id="losingTrades">Loading...</p>
      </div>

      <div class="card">
        <h3>Brokerage</h3>
        <p id="brokerage">Loading...</p>
      </div>

      <div class="card">
        <h3>P/L Before Brokerage</h3>
        <p id="grossPL">Loading...</p>
      </div>

      <div class="card">
        <h3>Total P/L</h3>
        <p id="netPL">Loading...</p>
      </div>

      <div class="card">
        <h3>Total Capital Growth</h3>
        <p id="totalCapital">Loading...</p>
      </div>
    </div>
  </div>
</div>

<script>
  // ===== CONFIG =====
  const startingCapital = 10000;

  // ðŸ‘‡ Replace with your Google Sheet CSV link
  const sheetCSV = "https://docs.google.com/spreadsheets/d/e/2PACX-1vRzBFtVc9GEM7K5buIJCFDbC6Gh6Il-gg5xN0a1Bz7fHLWMRAI4SfCi782Q9joEBw/pubhtml";

  // ==================

  let totalTrades = 0;
  let wins = 0;
  let losses = 0;
  let brokerage = 0;
  let grossPL = 0;
  let netPL = 0;
  let totalCapital = startingCapital;

  fetch(sheetCSV)
    .then(res => res.text())
    .then(csv => {
      const rows = csv.split("\n").slice(1);

      rows.forEach(row => {
        const cols = row.split(",");

        let plBefore = parseFloat(cols[11]);  // Column L
        let brok = parseFloat(cols[12]);      // Column M
        let total = parseFloat(cols[13]);     // Column N

        if (!isNaN(total)) {
          totalTrades++;
          netPL += total;

          if (total > 0) wins++;
          if (total < 0) losses++;
        }

        if (!isNaN(plBefore)) grossPL += plBefore;
        if (!isNaN(brok)) brokerage += brok;
      });

      totalCapital = startingCapital + netPL;

      document.getElementById("startingCapital").innerText = "â‚¹ " + startingCapital.toFixed(2);
      document.getElementById("totalTrades").innerText = totalTrades;
      document.getElementById("winningTrades").innerText = wins;
      document.getElementById("losingTrades").innerText = losses;
      document.getElementById("brokerage").innerText = "â‚¹ " + brokerage.toFixed(2);
      document.getElementById("grossPL").innerText = "â‚¹ " + grossPL.toFixed(2);
      document.getElementById("netPL").innerText = "â‚¹ " + netPL.toFixed(2);
      document.getElementById("totalCapital").innerText = "â‚¹ " + totalCapital.toFixed(2);
    });
</script>

</body>
</html>
